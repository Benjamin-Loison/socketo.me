<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="generator" content="ApiGen 2.8.0" />

	<title>Class React\Stream\CompositeStream | Ratchet</title>

	<script type="text/javascript" src="resources/combined.js?1933933094"></script>
	<script type="text/javascript" src="elementlist.js?2449285623"></script>
	<link rel="stylesheet" type="text/css" media="all" href="resources/style.css?3505392360" />

</head>

<body>
<div id="left">
	<div id="menu">
		<a href="index.html" title="Overview"><span>Overview</span></a>


		<div id="groups">
			<h3>Namespaces</h3>
			<ul>
				<li><a href="namespace-Evenement.html">Evenement</a>
						</li>
				<li><a href="namespace-None.html">None</a>
						</li>
				<li><a href="namespace-PHP.html">PHP</a>
						</li>
				<li><a href="namespace-Psr.html">Psr<span></span></a>
						<ul>
				<li><a href="namespace-Psr.Http.html">Http<span></span></a>
						<ul>
				<li><a href="namespace-Psr.Http.Message.html">Message</a>
						</li>
							</ul></li></ul></li>
				<li><a href="namespace-Ratchet.html">Ratchet<span></span></a>
						<ul>
				<li><a href="namespace-Ratchet.Http.html">Http</a>
						</li>
				<li><a href="namespace-Ratchet.RFC6455.html">RFC6455<span></span></a>
						<ul>
				<li><a href="namespace-Ratchet.RFC6455.Handshake.html">Handshake</a>
						</li>
				<li><a href="namespace-Ratchet.RFC6455.Messaging.html">Messaging</a>
						</li>
							</ul></li>
				<li><a href="namespace-Ratchet.Server.html">Server</a>
						</li>
				<li><a href="namespace-Ratchet.Session.html">Session<span></span></a>
						<ul>
				<li><a href="namespace-Ratchet.Session.Serialize.html">Serialize</a>
						</li>
				<li><a href="namespace-Ratchet.Session.Storage.html">Storage<span></span></a>
						<ul>
				<li><a href="namespace-Ratchet.Session.Storage.Proxy.html">Proxy</a>
						</li>
							</ul></li></ul></li>
				<li><a href="namespace-Ratchet.Wamp.html">Wamp</a>
						</li>
				<li><a href="namespace-Ratchet.WebSocket.html">WebSocket</a>
						</li>
							</ul></li>
				<li class="active"><a href="namespace-React.html">React<span></span></a>
						<ul>
				<li><a href="namespace-React.EventLoop.html">EventLoop<span></span></a>
						<ul>
				<li><a href="namespace-React.EventLoop.Tick.html">Tick</a>
						</li>
				<li><a href="namespace-React.EventLoop.Timer.html">Timer</a>
						</li>
							</ul></li>
				<li><a href="namespace-React.Socket.html">Socket</a>
						</li>
				<li class="active"><a href="namespace-React.Stream.html">Stream</a>
						</li>
							</ul></li>
				<li><a href="namespace-Symfony.html">Symfony<span></span></a>
						<ul>
				<li><a href="namespace-Symfony.Component.html">Component<span></span></a>
						<ul>
				<li><a href="namespace-Symfony.Component.HttpFoundation.html">HttpFoundation<span></span></a>
						<ul>
				<li><a href="namespace-Symfony.Component.HttpFoundation.Session.html">Session<span></span></a>
						<ul>
				<li><a href="namespace-Symfony.Component.HttpFoundation.Session.Attribute.html">Attribute</a>
						</li>
				<li><a href="namespace-Symfony.Component.HttpFoundation.Session.Flash.html">Flash</a>
						</li>
				<li><a href="namespace-Symfony.Component.HttpFoundation.Session.Storage.html">Storage<span></span></a>
						<ul>
				<li><a href="namespace-Symfony.Component.HttpFoundation.Session.Storage.Handler.html">Handler</a>
						</li>
				<li><a href="namespace-Symfony.Component.HttpFoundation.Session.Storage.Proxy.html">Proxy</a>
						</li>
							</ul></li></ul></li></ul></li>
				<li><a href="namespace-Symfony.Component.Routing.html">Routing<span></span></a>
						<ul>
				<li><a href="namespace-Symfony.Component.Routing.Annotation.html">Annotation</a>
						</li>
				<li><a href="namespace-Symfony.Component.Routing.Exception.html">Exception</a>
						</li>
				<li><a href="namespace-Symfony.Component.Routing.Generator.html">Generator<span></span></a>
						<ul>
				<li><a href="namespace-Symfony.Component.Routing.Generator.Dumper.html">Dumper</a>
						</li>
							</ul></li>
				<li><a href="namespace-Symfony.Component.Routing.Loader.html">Loader<span></span></a>
						<ul>
				<li><a href="namespace-Symfony.Component.Routing.Loader.DependencyInjection.html">DependencyInjection</a>
						</li>
							</ul></li>
				<li><a href="namespace-Symfony.Component.Routing.Matcher.html">Matcher<span></span></a>
						<ul>
				<li><a href="namespace-Symfony.Component.Routing.Matcher.Dumper.html">Dumper</a>
						</li>
							</ul></li>
				<li><a href="namespace-Symfony.Component.Routing.Tests.html">Tests<span></span></a>
						<ul>
				<li><a href="namespace-Symfony.Component.Routing.Tests.Annotation.html">Annotation</a>
						</li>
				<li><a href="namespace-Symfony.Component.Routing.Tests.Fixtures.html">Fixtures<span></span></a>
						<ul>
				<li><a href="namespace-Symfony.Component.Routing.Tests.Fixtures.AnnotatedClasses.html">AnnotatedClasses</a>
						</li>
				<li><a href="namespace-Symfony.Component.Routing.Tests.Fixtures.OtherAnnotatedClasses.html">OtherAnnotatedClasses</a>
						</li>
							</ul></li>
				<li><a href="namespace-Symfony.Component.Routing.Tests.Generator.html">Generator<span></span></a>
						<ul>
				<li><a href="namespace-Symfony.Component.Routing.Tests.Generator.Dumper.html">Dumper</a>
						</li>
							</ul></li>
				<li><a href="namespace-Symfony.Component.Routing.Tests.Loader.html">Loader</a>
						</li>
				<li><a href="namespace-Symfony.Component.Routing.Tests.Matcher.html">Matcher<span></span></a>
						<ul>
				<li><a href="namespace-Symfony.Component.Routing.Tests.Matcher.Dumper.html">Dumper</a>
						</li>
							</ul></li></ul></li></ul></li></ul></li></ul></li>
			</ul>
		</div>

		<hr />


		<div id="elements">
			<h3>Classes</h3>
			<ul>
				<li><a href="class-React.Stream.BufferedSink.html">BufferedSink</a></li>
				<li class="active"><a href="class-React.Stream.CompositeStream.html">CompositeStream</a></li>
				<li><a href="class-React.Stream.DuplexResourceStream.html">DuplexResourceStream</a></li>
				<li><a href="class-React.Stream.ReadableResourceStream.html">ReadableResourceStream</a></li>
				<li><a href="class-React.Stream.ReadableStream.html">ReadableStream</a></li>
				<li><a href="class-React.Stream.ThroughStream.html">ThroughStream</a></li>
				<li><a href="class-React.Stream.Util.html">Util</a></li>
				<li><a href="class-React.Stream.WritableResourceStream.html">WritableResourceStream</a></li>
				<li><a href="class-React.Stream.WritableStream.html">WritableStream</a></li>
			</ul>

			<h3>Interfaces</h3>
			<ul>
				<li><a href="class-React.Stream.DuplexStreamInterface.html">DuplexStreamInterface</a></li>
				<li><a href="class-React.Stream.ReadableStreamInterface.html">ReadableStreamInterface</a></li>
				<li><a href="class-React.Stream.WritableStreamInterface.html">WritableStreamInterface</a></li>
			</ul>




		</div>
	</div>
</div>

<div id="splitter"></div>

<div id="right">
<div id="rightInner">
	<form id="search">
		<input type="hidden" name="cx" value="" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text" name="q" class="text" />
		<input type="submit" value="Search" />
	</form>

	<div id="navigation">
		<ul>
			<li>
				<a href="index.html" title="Overview"><span>Overview</span></a>
			</li>
			<li>
				<a href="namespace-React.Stream.html" title="Summary of React\Stream"><span>Namespace</span></a>
			</li>
			<li class="active">
<span>Class</span>			</li>
		</ul>
		<ul>
			<li>
				<a href="tree.html" title="Tree view of classes, interfaces, traits and exceptions"><span>Tree</span></a>
			</li>
		</ul>
		<ul>
		</ul>
	</div>

<div id="content" class="class">
	<h1>Class CompositeStream</h1>


	<div class="description">
	
<p>The <code>DuplexStreamInterface</code> is responsible for providing an
interface for duplex streams (both readable and writable).</p>

<p>It builds on top of the existing interfaces for readable and writable streams
and follows the exact same method and event semantics. If you're new to this
concept, you should look into the <code>ReadableStreamInterface</code> and
<code>WritableStreamInterface</code> first.</p>

<p>Besides defining a few methods, this interface also implements the
<code>EventEmitterInterface</code> which allows you to react to the same events
defined on the <code>ReadbleStreamInterface</code> and
<code>WritableStreamInterface</code>.</p>

	</div>

	<dl class="tree">
		<dd style="padding-left:0px">
			<a href="class-Evenement.EventEmitter.html"><span>Evenement\EventEmitter</span></a>
			
			 implements 
				<a href="class-Evenement.EventEmitterInterface.html"><span>Evenement\EventEmitterInterface</span></a>
			
			 uses 
				<a href="class-Evenement.EventEmitterTrait.html"><span>Evenement\EventEmitterTrait</span></a>
			
		</dd>
		<dd style="padding-left:30px">
			<img src="resources/inherit.png" alt="Extended by" />
<b><span>React\Stream\CompositeStream</span></b>			
			 implements 
				<a href="class-React.Stream.DuplexStreamInterface.html"><span>React\Stream\DuplexStreamInterface</span></a>
			
			
		</dd>
	</dl>


	<div>
		<h4>Direct known subclasses</h4>
			<a href="class-React.Stream.ThroughStream.html">React\Stream\ThroughStream</a>
	</div>






	<div class="info">
		
		
		<b>Namespace:</b> <a href="namespace-React.html">React</a>\<a href="namespace-React.Stream.html">Stream</a><br />
		

				<b>See:</b>
				<code><code><a href="class-React.Stream.ReadableStreamInterface.html">React\Stream\ReadableStreamInterface</a></code></code><br />
				<b>See:</b>
				<code><code><a href="class-React.Stream.WritableStreamInterface.html">React\Stream\WritableStreamInterface</a></code></code><br />
		<b>Located at</b> <a href="source-class-React.Stream.CompositeStream.html#7-95" title="Go to source code">CompositeStream.php</a><br />
	</div>



	<table class="summary" id="methods">
	<caption>Methods summary</caption>
	<tr data-order="__construct" id="___construct">

		<td class="attributes"><code>
			 public 
			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#___construct">#</a>
		<code><a href="source-class-React.Stream.CompositeStream.html#14-26" title="Go to source code">__construct</a>( <span><code><a href="class-React.Stream.ReadableStreamInterface.html">React\Stream\ReadableStreamInterface</a></code> <var>$readable</var></span>, <span><code><a href="class-React.Stream.WritableStreamInterface.html">React\Stream\WritableStreamInterface</a></code> <var>$writable</var></span> )</code>

		<div class="description short">
			
		</div>

		<div class="description detailed hidden">
			







		</div>
		</div></td>
	</tr>
	<tr data-order="handlePipeEvent" id="_handlePipeEvent">

		<td class="attributes"><code>
			 public 
			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_handlePipeEvent">#</a>
		<code><a href="source-class-React.Stream.CompositeStream.html#28-31" title="Go to source code">handlePipeEvent</a>( <span>mixed <var>$source</var></span> )</code>

		<div class="description short">
			
		</div>

		<div class="description detailed hidden">
			







		</div>
		</div></td>
	</tr>
	<tr data-order="isReadable" id="_isReadable">

		<td class="attributes"><code>
			 public 
			boolean
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_isReadable">#</a>
		<code><a href="source-class-React.Stream.CompositeStream.html#33-36" title="Go to source code">isReadable</a>( )</code>

		<div class="description short">
			
<p>Checks whether this stream is in a readable state (not closed already).</p>

		</div>

		<div class="description detailed hidden">
			
<p>Checks whether this stream is in a readable state (not closed already).</p>

<p>This method can be used to check if the stream still accepts incoming data
events or if it is ended or closed already. Once the stream is non-readable, no
further <code>data</code> or <code>end</code> events SHOULD be emitted.</p>

<p><code>`</code>php assert($stream-&gt;isReadable() === false);</p>

<p>$stream-&gt;on('data', assertNeverCalled()); $stream-&gt;on('end',
assertNeverCalled()); <code>`</code></p>

<p>A successfully opened stream always MUST start in readable mode.</p>

<p>Once the stream ends or closes, it MUST switch to non-readable mode. This can
happen any time, explicitly through <code>close()</code> or implicitly due to a
remote close or an unrecoverable transmission error. Once a stream has switched
to non-readable mode, it MUST NOT transition back to readable mode.</p>

<p>If this stream is a <code>DuplexStreamInterface</code>, you should also
notice how the writable side of the stream also implements an
<code>isWritable()</code> method. Unless this is a half-open duplex stream, they
SHOULD usually have the same return value.</p>




				<h4>Returns</h4>
				<div class="list">
					<code>boolean</code><br />
				</div>




				<h4>Implementation of</h4>
				<div class="list"><code><a href="class-React.Stream.ReadableStreamInterface.html#_isReadable">React\Stream\ReadableStreamInterface::isReadable()</a></code></div>
		</div>
		</div></td>
	</tr>
	<tr data-order="pause" id="_pause">

		<td class="attributes"><code>
			 public 
			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_pause">#</a>
		<code><a href="source-class-React.Stream.CompositeStream.html#38-45" title="Go to source code">pause</a>( )</code>

		<div class="description short">
			
<p>Pauses reading incoming data events.</p>

		</div>

		<div class="description detailed hidden">
			
<p>Pauses reading incoming data events.</p>

<p>Removes the data source file descriptor from the event loop. This allows you
to throttle incoming data.</p>

<p>Unless otherwise noted, a successfully opened stream SHOULD NOT start in
paused state.</p>

<p>Once the stream is paused, no futher <code>data</code> or <code>end</code>
events SHOULD be emitted.</p>

<p><code>`</code>php $stream-&gt;pause();</p>

<p>$stream-&gt;on('data', assertShouldNeverCalled()); $stream-&gt;on('end',
assertShouldNeverCalled()); <code>`</code></p>

<p>This method is advisory-only, though generally not recommended, the stream
MAY continue emitting <code>data</code> events.</p>

<p>You can continue processing events by calling <code>resume()</code>
again.</p>

<p>Note that both methods can be called any number of times, in particular
calling <code>pause()</code> more than once SHOULD NOT have any effect.</p>






				<h4>See</h4>
				<div class="list">
						<code><code><a href="class-React.Stream.CompositeStream.html#_resume">React\Stream\CompositeStream::resume()</a></code></code><br />
				</div>


				<h4>Implementation of</h4>
				<div class="list"><code><a href="class-React.Stream.ReadableStreamInterface.html#_pause">React\Stream\ReadableStreamInterface::pause()</a></code></div>
		</div>
		</div></td>
	</tr>
	<tr data-order="resume" id="_resume">

		<td class="attributes"><code>
			 public 
			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_resume">#</a>
		<code><a href="source-class-React.Stream.CompositeStream.html#47-58" title="Go to source code">resume</a>( )</code>

		<div class="description short">
			
<p>Resumes reading incoming data events.</p>

		</div>

		<div class="description detailed hidden">
			
<p>Resumes reading incoming data events.</p>

<p>Re-attach the data source after a previous <code>pause()</code>.</p>

<p><code>`</code>php $stream-&gt;pause();</p>

<p>$loop-&gt;addTimer(1.0, function () use ($stream) { $stream-&gt;resume(); });
<code>`</code></p>

<p>Note that both methods can be called any number of times, in particular
calling <code>resume()</code> without a prior <code>pause()</code> SHOULD NOT
have any effect.</p>






				<h4>See</h4>
				<div class="list">
						<code><code><a href="class-React.Stream.CompositeStream.html#_pause">React\Stream\CompositeStream::pause()</a></code></code><br />
				</div>


				<h4>Implementation of</h4>
				<div class="list"><code><a href="class-React.Stream.ReadableStreamInterface.html#_resume">React\Stream\ReadableStreamInterface::resume()</a></code></div>
		</div>
		</div></td>
	</tr>
	<tr data-order="pipe" id="_pipe">

		<td class="attributes"><code>
			 public 
			<code><a href="class-React.Stream.WritableStreamInterface.html">React\Stream\WritableStreamInterface</a></code>
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_pipe">#</a>
		<code><a href="source-class-React.Stream.CompositeStream.html#60-63" title="Go to source code">pipe</a>( <span><code><a href="class-React.Stream.WritableStreamInterface.html">React\Stream\WritableStreamInterface</a></code> <var>$dest</var></span>, <span>array <var>$options</var> = <span class="php-keyword1">array</span>()</span> )</code>

		<div class="description short">
			
<p>Pipes all the data from this readable source into the given writable
destination.</p>

		</div>

		<div class="description detailed hidden">
			
<p>Pipes all the data from this readable source into the given writable
destination.</p>

<p>Automatically sends all incoming data to the destination. Automatically
throttles the source based on what the destination can handle.</p>

<p><code>`</code>php $source-&gt;pipe($dest); <code>`</code></p>

<p>Similarly, you can also pipe an instance implementing
<code>DuplexStreamInterface</code> into itself in order to write back all the
data that is received. This may be a useful feature for a TCP/IP echo
service:</p>

<p><code>`</code>php $connection-&gt;pipe($connection); <code>`</code></p>

<p>This method returns the destination stream as-is, which can be used to set up
chains of piped streams:</p>

<p><code>`</code>php
$source-&gt;pipe($decodeGzip)-&gt;pipe($filterBadWords)-&gt;pipe($dest);
<code>`</code></p>

<p>By default, this will call <code>end()</code> on the destination stream once
the source stream emits an <code>end</code> event. This can be disabled like
this:</p>

<p><code>`</code>php $source-&gt;pipe($dest, array('end' =&gt; false));
<code>`</code></p>

<p>Note that this only applies to the <code>end</code> event. If an
<code>error</code> or explicit <code>close</code> event happens on the source
stream, you'll have to manually close the destination stream:</p>

<p><code>`</code>php $source-&gt;pipe($dest); $source-&gt;on('close', function
() use ($dest) { $dest-&gt;end('BYE!'); }); <code>`</code></p>

<p>If the source stream is not readable (closed state), then this is a
NO-OP.</p>

<p><code>`</code>php $source-&gt;close(); $source-&gt;pipe($dest); // NO-OP
<code>`</code></p>

<p>If the destinantion stream is not writable (closed state), then this will
simply throttle (pause) the source stream:</p>

<p><code>`</code>php $dest-&gt;close(); $source-&gt;pipe($dest); // calls
$source-&gt;pause() <code>`</code></p>

<p>Similarly, if the destination stream is closed while the pipe is still
active, it will also throttle (pause) the source stream:</p>

<p><code>`</code>php $source-&gt;pipe($dest); $dest-&gt;close(); // calls
$source-&gt;pause() <code>`</code></p>

<p>Once the pipe is set up successfully, the destination stream MUST emit a
<code>pipe</code> event with this source stream an event argument.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$dest</var></dt>
					<dd><code><code><a href="class-React.Stream.WritableStreamInterface.html">React\Stream\WritableStreamInterface</a></code></code><br>$dest</dd>
					<dt><var>$options</var></dt>
					<dd><code>array</code><br>$options</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code><code><a href="class-React.Stream.WritableStreamInterface.html">React\Stream\WritableStreamInterface</a></code></code><br>$dest stream as-is<br />
				</div>




				<h4>Implementation of</h4>
				<div class="list"><code><a href="class-React.Stream.ReadableStreamInterface.html#_pipe">React\Stream\ReadableStreamInterface::pipe()</a></code></div>
		</div>
		</div></td>
	</tr>
	<tr data-order="isWritable" id="_isWritable">

		<td class="attributes"><code>
			 public 
			boolean
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_isWritable">#</a>
		<code><a href="source-class-React.Stream.CompositeStream.html#65-68" title="Go to source code">isWritable</a>( )</code>

		<div class="description short">
			
<p>Checks whether this stream is in a writable state (not closed already).</p>

		</div>

		<div class="description detailed hidden">
			
<p>Checks whether this stream is in a writable state (not closed already).</p>

<p>This method can be used to check if the stream still accepts writing any data
or if it is ended or closed already. Writing any data to a non-writable stream
is a NO-OP:</p>

<p><code>`</code>php assert($stream-&gt;isWritable() === false);</p>

<p>$stream-&gt;write('end'); // NO-OP $stream-&gt;end('end'); // NO-OP
<code>`</code></p>

<p>A successfully opened stream always MUST start in writable mode.</p>

<p>Once the stream ends or closes, it MUST switch to non-writable mode. This can
happen any time, explicitly through <code>end()</code> or <code>close()</code>
or implicitly due to a remote close or an unrecoverable transmission error. Once
a stream has switched to non-writable mode, it MUST NOT transition back to
writable mode.</p>

<p>If this stream is a <code>DuplexStreamInterface</code>, you should also
notice how the readable side of the stream also implements an
<code>isReadable()</code> method. Unless this is a half-open duplex stream, they
SHOULD usually have the same return value.</p>




				<h4>Returns</h4>
				<div class="list">
					<code>boolean</code><br />
				</div>




				<h4>Implementation of</h4>
				<div class="list"><code><a href="class-React.Stream.WritableStreamInterface.html#_isWritable">React\Stream\WritableStreamInterface::isWritable()</a></code></div>
		</div>
		</div></td>
	</tr>
	<tr data-order="write" id="_write">

		<td class="attributes"><code>
			 public 
			boolean
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_write">#</a>
		<code><a href="source-class-React.Stream.CompositeStream.html#70-73" title="Go to source code">write</a>( <span>mixed|string <var>$data</var></span> )</code>

		<div class="description short">
			
<p>Write some data into the stream.</p>

		</div>

		<div class="description detailed hidden">
			
<p>Write some data into the stream.</p>

<p>A successful write MUST be confirmed with a boolean <code>true</code>, which
means that either the data was written (flushed) immediately or is buffered and
scheduled for a future write. Note that this interface gives you no control over
explicitly flushing the buffered data, as finding the appropriate time for this
is beyond the scope of this interface and left up to the implementation of this
interface.</p>

<p>Many common streams (such as a TCP/IP connection or file-based stream) may
choose to buffer all given data and schedule a future flush by using an
underlying EventLoop to check when the resource is actually writable.</p>

<p>If a stream cannot handle writing (or flushing) the data, it SHOULD emit an
<code>error</code> event and MAY <code>close()</code> the stream if it can not
recover from this error.</p>

<p>If the internal buffer is full after adding <code>$data</code>, then
<code>write()</code> SHOULD return <code>false</code>, indicating that the
caller should stop sending data until the buffer drains. The stream SHOULD send
a <code>drain</code> event once the buffer is ready to accept more data.</p>

<p>Similarly, if the the stream is not writable (already in a closed state) it
MUST NOT process the given <code>$data</code> and SHOULD return
<code>false</code>, indicating that the caller should stop sending data.</p>

<p>The given <code>$data</code> argument MAY be of mixed type, but it's usually
recommended it SHOULD be a <code>string</code> value or MAY use a type that
allows representation as a <code>string</code> for maximum compatibility.</p>

<p>Many common streams (such as a TCP/IP connection or a file-based stream) will
only accept the raw (binary) payload data that is transferred over the wire as
chunks of <code>string</code> values.</p>

<p>Due to the stream-based nature of this, the sender may send any number of
chunks with varying sizes. There are no guarantees that these chunks will be
received with the exact same framing the sender intended to send. In other
words, many lower-level protocols (such as TCP/IP) transfer the data in chunks
that may be anywhere between single-byte values to several dozens of kilobytes.
You may want to apply a higher-level protocol to these low-level data chunks in
order to achieve proper message framing.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$data</var></dt>
					<dd><code>mixed|string</code><br>$data</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>boolean</code><br />
				</div>




				<h4>Implementation of</h4>
				<div class="list"><code><a href="class-React.Stream.WritableStreamInterface.html#_write">React\Stream\WritableStreamInterface::write()</a></code></div>
		</div>
		</div></td>
	</tr>
	<tr data-order="end" id="_end">

		<td class="attributes"><code>
			 public 
			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_end">#</a>
		<code><a href="source-class-React.Stream.CompositeStream.html#75-79" title="Go to source code">end</a>( <span>mixed|string|null <var>$data</var> = <span class="php-keyword1">null</span></span> )</code>

		<div class="description short">
			
<p>Successfully ends the stream (after optionally sending some final data).</p>

		</div>

		<div class="description detailed hidden">
			
<p>Successfully ends the stream (after optionally sending some final data).</p>

<p>This method can be used to successfully end the stream, i.e. close the stream
after sending out all data that is currently buffered.</p>

<p><code>`</code>php $stream-&gt;write('hello'); $stream-&gt;write('world');
$stream-&gt;end(); <code>`</code></p>

<p>If there's no data currently buffered and nothing to be flushed, then this
method MAY <code>close()</code> the stream immediately.</p>

<p>If there's still data in the buffer that needs to be flushed first, then this
method SHOULD try to write out this data and only then <code>close()</code> the
stream. Once the stream is closed, it SHOULD emit a <code>close</code>
event.</p>

<p>Note that this interface gives you no control over explicitly flushing the
buffered data, as finding the appropriate time for this is beyond the scope of
this interface and left up to the implementation of this interface.</p>

<p>Many common streams (such as a TCP/IP connection or file-based stream) may
choose to buffer all given data and schedule a future flush by using an
underlying EventLoop to check when the resource is actually writable.</p>

<p>You can optionally pass some final data that is written to the stream before
ending the stream. If a non-<code>null</code> value is given as
<code>$data</code>, then this method will behave just like calling
<code>write($data)</code> before ending with no data.</p>

<p><code>`</code>php // shorter version $stream-&gt;end('bye');</p>

<p>// same as longer version $stream-&gt;write('bye'); $stream-&gt;end();
<code>`</code></p>

<p>After calling this method, the stream MUST switch into a non-writable mode,
see also <code>isWritable()</code>. This means that no further writes are
possible, so any additional <code>write()</code> or <code>end()</code> calls
have no effect.</p>

<p><code>`</code>php $stream-&gt;end(); assert($stream-&gt;isWritable() ===
false);</p>

<p>$stream-&gt;write('nope'); // NO-OP $stream-&gt;end(); // NO-OP
<code>`</code></p>

<p>If this stream is a <code>DuplexStreamInterface</code>, calling this method
SHOULD also end its readable side, unless the stream supports half-open mode. In
other words, after calling this method, these streams SHOULD switch into
non-writable AND non-readable mode, see also <code>isReadable()</code>. This
implies that in this case, the stream SHOULD NOT emit any <code>data</code> or
<code>end</code> events anymore. Streams MAY choose to use the
<code>pause()</code> method logic for this, but special care may have to be
taken to ensure a following call to the <code>resume()</code> method SHOULD NOT
continue emitting readable events.</p>

<p>Note that this method should not be confused with the <code>close()</code>
method.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$data</var></dt>
					<dd><code>mixed|string|null</code><br>$data</dd>
				</dl></div>





				<h4>Implementation of</h4>
				<div class="list"><code><a href="class-React.Stream.WritableStreamInterface.html#_end">React\Stream\WritableStreamInterface::end()</a></code></div>
		</div>
		</div></td>
	</tr>
	<tr data-order="close" id="_close">

		<td class="attributes"><code>
			 public 
			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_close">#</a>
		<code><a href="source-class-React.Stream.CompositeStream.html#81-94" title="Go to source code">close</a>( )</code>

		<div class="description short">
			
<p>Closes the stream (forcefully).</p>

		</div>

		<div class="description detailed hidden">
			
<p>Closes the stream (forcefully).</p>

<p>This method can be used to (forcefully) close the stream.</p>

<p><code>`</code>php $stream-&gt;close(); <code>`</code></p>

<p>Once the stream is closed, it SHOULD emit a <code>close</code> event. Note
that this event SHOULD NOT be emitted more than once, in particular if this
method is called multiple times.</p>

<p>After calling this method, the stream MUST switch into a non-readable mode,
see also <code>isReadable()</code>. This means that no further <code>data</code>
or <code>end</code> events SHOULD be emitted.</p>

<p><code>`</code>php $stream-&gt;close(); assert($stream-&gt;isReadable() ===
false);</p>

<p>$stream-&gt;on('data', assertNeverCalled()); $stream-&gt;on('end',
assertNeverCalled()); <code>`</code></p>

<p>If this stream is a <code>DuplexStreamInterface</code>, you should also
notice how the writable side of the stream also implements a
<code>close()</code> method. In other words, after calling this method, the
stream MUST switch into non-writable AND non-readable mode, see also
<code>isWritable()</code>. Note that this method should not be confused with the
<code>end()</code> method.</p>






				<h4>See</h4>
				<div class="list">
						<code><code><a href="class-React.Stream.WritableStreamInterface.html#_close">React\Stream\WritableStreamInterface::close()</a></code></code><br />
				</div>


				<h4>Implementation of</h4>
				<div class="list"><code><a href="class-React.Stream.ReadableStreamInterface.html#_close">React\Stream\ReadableStreamInterface::close()</a></code></div>
		</div>
		</div></td>
	</tr>
	</table>

	<table class="summary inherited">
	<caption>Methods inherited from <a href="class-Evenement.EventEmitterInterface.html#methods">Evenement\EventEmitterInterface</a></caption>
	<tr>
		<td><code>
			<a href="class-Evenement.EventEmitterInterface.html#_emit">emit()</a>, 
			<a href="class-Evenement.EventEmitterInterface.html#_listeners">listeners()</a>, 
			<a href="class-Evenement.EventEmitterInterface.html#_on">on()</a>, 
			<a href="class-Evenement.EventEmitterInterface.html#_once">once()</a>, 
			<a href="class-Evenement.EventEmitterInterface.html#_removeAllListeners">removeAllListeners()</a>, 
			<a href="class-Evenement.EventEmitterInterface.html#_removeListener">removeListener()</a>
		</code></td>
	</tr>
	</table>

	<table class="summary used">
	<caption>Methods used from <a href="class-Evenement.EventEmitterTrait.html#methods">Evenement\EventEmitterTrait</a></caption>
	<tr>
		<td><code>
			<a href="class-Evenement.EventEmitterTrait.html#_emit">()</a>, 
			<a href="class-Evenement.EventEmitterTrait.html#_listeners">()</a>, 
			<a href="class-Evenement.EventEmitterTrait.html#_on">()</a>, 
			<a href="class-Evenement.EventEmitterTrait.html#_once">()</a>, 
			<a href="class-Evenement.EventEmitterTrait.html#_removeAllListeners">()</a>, 
			<a href="class-Evenement.EventEmitterTrait.html#_removeListener">()</a>
		</code></td>
	</tr>
	</table>










	<table class="summary" id="properties">
	<caption>Properties summary</caption>
	<tr data-order="readable" id="$readable">
		<td class="attributes"><code>
			protected  
			mixed
		</code></td>

		<td class="name">
				<a href="source-class-React.Stream.CompositeStream.html#9" title="Go to source code"><var>$readable</var></a>
		</td>
		<td class="value"><code></code></td>
		<td class="description"><div>
			<a href="#$readable" class="anchor">#</a>

			<div class="description short">
				
			</div>

			<div class="description detailed hidden">
				

			</div>
		</div></td>
	</tr>
	<tr data-order="writable" id="$writable">
		<td class="attributes"><code>
			protected  
			mixed
		</code></td>

		<td class="name">
				<a href="source-class-React.Stream.CompositeStream.html#10" title="Go to source code"><var>$writable</var></a>
		</td>
		<td class="value"><code></code></td>
		<td class="description"><div>
			<a href="#$writable" class="anchor">#</a>

			<div class="description short">
				
			</div>

			<div class="description detailed hidden">
				

			</div>
		</div></td>
	</tr>
	<tr data-order="pipeSource" id="$pipeSource">
		<td class="attributes"><code>
			protected  
			mixed
		</code></td>

		<td class="name">
				<a href="source-class-React.Stream.CompositeStream.html#11" title="Go to source code"><var>$pipeSource</var></a>
		</td>
		<td class="value"><code></code></td>
		<td class="description"><div>
			<a href="#$pipeSource" class="anchor">#</a>

			<div class="description short">
				
			</div>

			<div class="description detailed hidden">
				

			</div>
		</div></td>
	</tr>
	<tr data-order="closed" id="$closed">
		<td class="attributes"><code>
			protected  
			boolean
		</code></td>

		<td class="name">
				<a href="source-class-React.Stream.CompositeStream.html#12" title="Go to source code"><var>$closed</var></a>
		</td>
		<td class="value"><code><span class="php-keyword1">false</span></code></td>
		<td class="description"><div>
			<a href="#$closed" class="anchor">#</a>

			<div class="description short">
				
			</div>

			<div class="description detailed hidden">
				

			</div>
		</div></td>
	</tr>
	</table>


	<table class="summary used">
	<caption>Properties used from <a href="class-Evenement.EventEmitterTrait.html#properties">Evenement\EventEmitterTrait</a></caption>
	<tr>
		<td><code>
			<a href="class-Evenement.EventEmitterTrait.html#$listeners"><var>$listeners</var></a>
		</code></td>
	</tr>
	</table>




</div>

	<div id="footer">
		Ratchet API documentation generated by <a href="http://apigen.org">ApiGen 2.8.0</a>
	</div>
</div>
</div>
</body>
</html>
